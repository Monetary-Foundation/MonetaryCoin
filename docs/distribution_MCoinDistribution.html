<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>MCoinDistribution · MonetaryCoin</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="MCoinDistribution · MonetaryCoin"/><meta property="og:type" content="website"/><meta property="og:url" content="https://monetary-foundation.github.io/MonetaryCoin/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; MCoinDistribution&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;ownership_Ownable.html&quot;&gt;Ownable&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;MCoinDistribution Used to distribute a fixed amount of token per window. Users can commit Ether to a certain window. After a window closes, a user can withdraw the reward using withdraw(uint256 window) function or use withdrawAll() function to get tokens from all windows in a single transaction. The amount of tokens allocated to a user for a given window equals (window allocation) * (user eth) / (total eth) User can get the details of the current window using detailsOfWindow() function. The first-period allocation is larger than second-period allocation (per window).&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/Monetary-Foundation/MonetaryCoin/blob/v1.0.0/contracts/distribution/MCoinDistribution.sol&quot; target=&quot;_blank&quot;&gt;distribution/MCoinDistribution.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#Commit&quot;&gt;Commit&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#MoveFunds&quot;&gt;MoveFunds&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#Withdraw&quot;&gt;Withdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#allocationFor&quot;&gt;allocationFor&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#commit&quot;&gt;commit&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#commitOn&quot;&gt;commitOn&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#currentWindow&quot;&gt;currentWindow&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#detailsOf&quot;&gt;detailsOf&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#detailsOfWindow&quot;&gt;detailsOfWindow&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#&quot;&gt;fallback&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#&quot;&gt;cosntructor&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#getAllRewards&quot;&gt;getAllRewards&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#getCommitmentsOf&quot;&gt;getCommitmentsOf&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#getTotals&quot;&gt;getTotals&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#init&quot;&gt;init&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#moveFunds&quot;&gt;moveFunds&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#windowOf&quot;&gt;windowOf&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#withdraw&quot;&gt;withdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;distribution_MCoinDistribution.html#withdrawAll&quot;&gt;withdrawAll&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Commit&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Commit&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Commit&lt;/strong&gt;&lt;span&gt;(address from, uint256 value, uint256 window) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;from&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;MoveFunds&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;MoveFunds&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;MoveFunds&lt;/strong&gt;&lt;span&gt;(uint256 value) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Withdraw&lt;/strong&gt;&lt;span&gt;(address from, uint256 value, uint256 window) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;from&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;value&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;allocationFor&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;allocationFor&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;allocationFor&lt;/strong&gt;&lt;span&gt;(uint256 window) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Return allocation for given window.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - the desired window&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;the number of tokens to distribute in the given window&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;commit&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;commit&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;commit&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Commit funds for the current window.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;commitOn&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;commitOn&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;commitOn&lt;/strong&gt;&lt;span&gt;(uint256 window) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Commit funds for a given window Tokens for commited window need to be withdrawn after window closes using withdraw(uint256 window) function first window: 0 last window: totalWindows - 1.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - to commit [0-totalWindows)&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;currentWindow&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;currentWindow&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;currentWindow&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Return the number of the current window.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;the window, range: [0-totalWindows)&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;detailsOf&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;detailsOf&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;detailsOf&lt;/strong&gt;&lt;span&gt;(uint256 window) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256, uint256, uint256, uint256, uint256, uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Return information about the selected window.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - number: [0-totalWindows)&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;{ &amp;quot;uint256 start&amp;quot;: window start timestamp &amp;quot;uint256 end&amp;quot;: window end timestamp &amp;quot;uint256 remainingTime&amp;quot;: remaining time (sec), zero if ended &amp;quot;uint256 allocation&amp;quot;: number of tokens to be distributed &amp;quot;uint256 totalEth&amp;quot;: total eth commited this window &amp;quot;uint256 number&amp;quot;: # of requested window }&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;detailsOfWindow&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;detailsOfWindow&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;detailsOfWindow&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256, uint256, uint256, uint256, uint256, uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Return information for the current window.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;{ &amp;quot;uint256 start&amp;quot;: window start timestamp &amp;quot;uint256 end&amp;quot;: window end timestamp &amp;quot;uint256 remainingTime&amp;quot;: remaining time (sec), zero if ended &amp;quot;uint256 allocation&amp;quot;: number of tokens to be distributed &amp;quot;uint256 totalEth&amp;quot;: total eth commited this window &amp;quot;uint256 number&amp;quot;: # of requested window }&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;fallback&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;fallback&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Commit used as a fallback.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;cosntructor&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;cosntructor&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;&lt;/strong&gt;&lt;span&gt;(uint256 _firstPeriodWindows, uint256 _firstPeriodSupply, uint256 _secondPeriodWindows, uint256 _secondPeriodSupply, address _foundationWallet, uint256 _foundationReserve, uint256 _startTimestamp, uint256 _windowLength) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_firstPeriodWindows&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_firstPeriodSupply&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_secondPeriodWindows&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_secondPeriodSupply&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationWallet&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;_foundationReserve&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_startTimestamp&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;_windowLength&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getAllRewards&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getAllRewards&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getAllRewards&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a array which contains reward for every closed window a convinience function to be called for updating a GUI. To get the reward tokens use withdrawAll(), which consumes less gas.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256[] rewards - the calculated number of tokens for every closed window&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getCommitmentsOf&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getCommitmentsOf&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getCommitmentsOf&lt;/strong&gt;&lt;span&gt;(address from) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a array filled with commitments of address for every window a convinience function to be called for updating a GUI.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;from&lt;/code&gt; - address&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256[] commitments - the commited Eth per window of a given address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getTotals&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getTotals&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getTotals&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a array filled with eth totals for every window a convinience function to be called for updating a GUI.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256[] ethTotals - the totals for commited Eth per window&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;init&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;init&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;init&lt;/strong&gt;&lt;span&gt;(MineableToken _MCoin) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initiate the distribution.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_MCoin&lt;/code&gt; - the token to distribute&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;moveFunds&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;moveFunds&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;moveFunds&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves Eth to the foundation wallet.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;ownership_Ownable.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;the amount to be moved.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;windowOf&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;windowOf&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;windowOf&lt;/strong&gt;&lt;span&gt;(uint256 timestamp) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Return the window number for given timestamp.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;timestamp&lt;/code&gt; - uint256&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;number of the current window in [0,inf) zero will be returned before distribution start and during the first window.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdraw&lt;/strong&gt;&lt;span&gt;(uint256 window) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Withdraw tokens after the window has closed.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;window&lt;/code&gt; - to withdraw&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;the calculated number of tokens&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdrawAll&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdrawAll&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdrawAll&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Get the reward from all closed windows.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/MonetaryCoin/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,200,300,400,500,700,400italic,700italic"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/MonetaryCoin/css/main.css"/></head><body class="sideNavVisible doc"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/MonetaryCoin/"><img class="logo" src="/MonetaryCoin/img/logo-monetarycoin.png" alt="MonetaryCoin"/><h2 class="headerTitleWithLogo">MonetaryCoin</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://monetary.org" target="_self">Home</a></li><li class=""><a href="/MonetaryCoin/docs/monetarycoin.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/MonetaryCoin/docs/deploy_MCoin.html" target="_self">API</a></li><li class=""><a href="https://github.com/Monetary-Foundation/MonetaryCoin" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>DISTRIBUTION</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>DEPLOY</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/deploy_MCoin.html">MCoin</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/deploy_MCoinDistributionWrap.html">MCoinDistributionWrap</a></li></ul></div><div class="navGroup navGroupActive"><h3>DISTRIBUTION</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/MonetaryCoin/docs/distribution_MCoinDistribution.html">MCoinDistribution</a></li></ul></div><div class="navGroup navGroupActive"><h3>MATH</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/math_SafeMath.html">SafeMath</a></li></ul></div><div class="navGroup navGroupActive"><h3>OWNERSHIP</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/ownership_Claimable.html">Claimable</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/ownership_Ownable.html">Ownable</a></li></ul></div><div class="navGroup navGroupActive"><h3>STORAGE</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/storage_ComplianceStore.html">ComplianceStore</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/storage_MultihashStore.html">MultihashStore</a></li></ul></div><div class="navGroup navGroupActive"><h3>TOKEN / ERC20</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_BasicToken.html">BasicToken</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_BurnableToken.html">BurnableToken</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_ERC20.html">ERC20</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_ERC20Basic.html">ERC20Basic</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_GDPOraclizedToken.html">GDPOraclizedToken</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_MineableM5Token.html">MineableM5Token</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_MineableToken.html">MineableToken</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_MintableToken.html">MintableToken</a></li><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/token_ERC20_StandardToken.html">StandardToken</a></li></ul></div><div class="navGroup navGroupActive"><h3>UNCATEGORIZED</h3><ul><li class="navListItem"><a class="navItem" href="/MonetaryCoin/docs/Migrations.html">Migrations</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>MCoinDistribution</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> MCoinDistribution</h2><p class="base-contracts"><span>is</span> <a href="ownership_Ownable.html">Ownable</a></p><p class="description">MCoinDistribution Used to distribute a fixed amount of token per window. Users can commit Ether to a certain window. After a window closes, a user can withdraw the reward using withdraw(uint256 window) function or use withdrawAll() function to get tokens from all windows in a single transaction. The amount of tokens allocated to a user for a given window equals (window allocation) * (user eth) / (total eth) User can get the details of the current window using detailsOfWindow() function. The first-period allocation is larger than second-period allocation (per window).</p><div class="source">Source: <a href="https://github.com/Monetary-Foundation/MonetaryCoin/blob/v1.0.0/contracts/distribution/MCoinDistribution.sol" target="_blank">distribution/MCoinDistribution.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="distribution_MCoinDistribution.html#Commit">Commit</a></li><li><a href="distribution_MCoinDistribution.html#MoveFunds">MoveFunds</a></li><li><a href="distribution_MCoinDistribution.html#Withdraw">Withdraw</a></li><li><a href="distribution_MCoinDistribution.html#allocationFor">allocationFor</a></li><li><a href="distribution_MCoinDistribution.html#commit">commit</a></li><li><a href="distribution_MCoinDistribution.html#commitOn">commitOn</a></li><li><a href="distribution_MCoinDistribution.html#currentWindow">currentWindow</a></li><li><a href="distribution_MCoinDistribution.html#detailsOf">detailsOf</a></li><li><a href="distribution_MCoinDistribution.html#detailsOfWindow">detailsOfWindow</a></li><li><a href="distribution_MCoinDistribution.html#">fallback</a></li><li><a href="distribution_MCoinDistribution.html#">cosntructor</a></li><li><a href="distribution_MCoinDistribution.html#getAllRewards">getAllRewards</a></li><li><a href="distribution_MCoinDistribution.html#getCommitmentsOf">getCommitmentsOf</a></li><li><a href="distribution_MCoinDistribution.html#getTotals">getTotals</a></li><li><a href="distribution_MCoinDistribution.html#init">init</a></li><li><a href="distribution_MCoinDistribution.html#moveFunds">moveFunds</a></li><li><a href="distribution_MCoinDistribution.html#windowOf">windowOf</a></li><li><a href="distribution_MCoinDistribution.html#withdraw">withdraw</a></li><li><a href="distribution_MCoinDistribution.html#withdrawAll">withdrawAll</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="Commit" class="anchor-marker"></span><h4 class="name">Commit</h4><div class="body"><code class="signature">event <strong>Commit</strong><span>(address from, uint256 value, uint256 window) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>from</code> - address</div><div><code>value</code> - uint256</div><div><code>window</code> - uint256</div></dd></dl></div></div></li><li><div class="item event"><span id="MoveFunds" class="anchor-marker"></span><h4 class="name">MoveFunds</h4><div class="body"><code class="signature">event <strong>MoveFunds</strong><span>(uint256 value) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>value</code> - uint256</div></dd></dl></div></div></li><li><div class="item event"><span id="Withdraw" class="anchor-marker"></span><h4 class="name">Withdraw</h4><div class="body"><code class="signature">event <strong>Withdraw</strong><span>(address from, uint256 value, uint256 window) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>from</code> - address</div><div><code>value</code> - uint256</div><div><code>window</code> - uint256</div></dd></dl></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="allocationFor" class="anchor-marker"></span><h4 class="name">allocationFor</h4><div class="body"><code class="signature">function <strong>allocationFor</strong><span>(uint256 window) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Return allocation for given window.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>window</code> - the desired window</div></dd><dt><span class="label-return">Returns:</span></dt><dd>the number of tokens to distribute in the given window</dd></dl></div></div></li><li><div class="item function"><span id="commit" class="anchor-marker"></span><h4 class="name">commit</h4><div class="body"><code class="signature">function <strong>commit</strong><span>() </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>Commit funds for the current window.</p></div></div></div></li><li><div class="item function"><span id="commitOn" class="anchor-marker"></span><h4 class="name">commitOn</h4><div class="body"><code class="signature">function <strong>commitOn</strong><span>(uint256 window) </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>Commit funds for a given window Tokens for commited window need to be withdrawn after window closes using withdraw(uint256 window) function first window: 0 last window: totalWindows - 1.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>window</code> - to commit [0-totalWindows)</div></dd></dl></div></div></li><li><div class="item function"><span id="currentWindow" class="anchor-marker"></span><h4 class="name">currentWindow</h4><div class="body"><code class="signature">function <strong>currentWindow</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Return the number of the current window.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>the window, range: [0-totalWindows)</dd></dl></div></div></li><li><div class="item function"><span id="detailsOf" class="anchor-marker"></span><h4 class="name">detailsOf</h4><div class="body"><code class="signature">function <strong>detailsOf</strong><span>(uint256 window) </span><span>public </span><span>view </span><span>returns  (uint256, uint256, uint256, uint256, uint256, uint256) </span></code><hr/><div class="description"><p>Return information about the selected window.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>window</code> - number: [0-totalWindows)</div></dd><dt><span class="label-return">Returns:</span></dt><dd>{ &quot;uint256 start&quot;: window start timestamp &quot;uint256 end&quot;: window end timestamp &quot;uint256 remainingTime&quot;: remaining time (sec), zero if ended &quot;uint256 allocation&quot;: number of tokens to be distributed &quot;uint256 totalEth&quot;: total eth commited this window &quot;uint256 number&quot;: # of requested window }</dd></dl></div></div></li><li><div class="item function"><span id="detailsOfWindow" class="anchor-marker"></span><h4 class="name">detailsOfWindow</h4><div class="body"><code class="signature">function <strong>detailsOfWindow</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256, uint256, uint256, uint256, uint256, uint256) </span></code><hr/><div class="description"><p>Return information for the current window.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>{ &quot;uint256 start&quot;: window start timestamp &quot;uint256 end&quot;: window end timestamp &quot;uint256 remainingTime&quot;: remaining time (sec), zero if ended &quot;uint256 allocation&quot;: number of tokens to be distributed &quot;uint256 totalEth&quot;: total eth commited this window &quot;uint256 number&quot;: # of requested window }</dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>() </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>Commit used as a fallback.</p></div></div></div></li><li><div class="item function"><span id="cosntructor" class="anchor-marker"></span><h4 class="name">cosntructor</h4><div class="body"><code class="signature">function <strong></strong><span>(uint256 _firstPeriodWindows, uint256 _firstPeriodSupply, uint256 _secondPeriodWindows, uint256 _secondPeriodSupply, address _foundationWallet, uint256 _foundationReserve, uint256 _startTimestamp, uint256 _windowLength) </span><span>public </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_firstPeriodWindows</code> - uint256</div><div><code>_firstPeriodSupply</code> - uint256</div><div><code>_secondPeriodWindows</code> - uint256</div><div><code>_secondPeriodSupply</code> - uint256</div><div><code>_foundationWallet</code> - address</div><div><code>_foundationReserve</code> - uint256</div><div><code>_startTimestamp</code> - uint256</div><div><code>_windowLength</code> - uint256</div></dd></dl></div></div></li><li><div class="item function"><span id="getAllRewards" class="anchor-marker"></span><h4 class="name">getAllRewards</h4><div class="body"><code class="signature">function <strong>getAllRewards</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256[]) </span></code><hr/><div class="description"><p>Returns a array which contains reward for every closed window a convinience function to be called for updating a GUI. To get the reward tokens use withdrawAll(), which consumes less gas.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256[] rewards - the calculated number of tokens for every closed window</dd></dl></div></div></li><li><div class="item function"><span id="getCommitmentsOf" class="anchor-marker"></span><h4 class="name">getCommitmentsOf</h4><div class="body"><code class="signature">function <strong>getCommitmentsOf</strong><span>(address from) </span><span>public </span><span>view </span><span>returns  (uint256[]) </span></code><hr/><div class="description"><p>Returns a array filled with commitments of address for every window a convinience function to be called for updating a GUI.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>from</code> - address</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256[] commitments - the commited Eth per window of a given address</dd></dl></div></div></li><li><div class="item function"><span id="getTotals" class="anchor-marker"></span><h4 class="name">getTotals</h4><div class="body"><code class="signature">function <strong>getTotals</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256[]) </span></code><hr/><div class="description"><p>Returns a array filled with eth totals for every window a convinience function to be called for updating a GUI.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256[] ethTotals - the totals for commited Eth per window</dd></dl></div></div></li><li><div class="item function"><span id="init" class="anchor-marker"></span><h4 class="name">init</h4><div class="body"><code class="signature">function <strong>init</strong><span>(MineableToken _MCoin) </span><span>public </span></code><hr/><div class="description"><p>Initiate the distribution.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="ownership_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_MCoin</code> - the token to distribute</div></dd></dl></div></div></li><li><div class="item function"><span id="moveFunds" class="anchor-marker"></span><h4 class="name">moveFunds</h4><div class="body"><code class="signature">function <strong>moveFunds</strong><span>() </span><span>public </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Moves Eth to the foundation wallet.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="ownership_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-return">Returns:</span></dt><dd>the amount to be moved.</dd></dl></div></div></li><li><div class="item function"><span id="windowOf" class="anchor-marker"></span><h4 class="name">windowOf</h4><div class="body"><code class="signature">function <strong>windowOf</strong><span>(uint256 timestamp) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Return the window number for given timestamp.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>timestamp</code> - uint256</div></dd><dt><span class="label-return">Returns:</span></dt><dd>number of the current window in [0,inf) zero will be returned before distribution start and during the first window.</dd></dl></div></div></li><li><div class="item function"><span id="withdraw" class="anchor-marker"></span><h4 class="name">withdraw</h4><div class="body"><code class="signature">function <strong>withdraw</strong><span>(uint256 window) </span><span>public </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Withdraw tokens after the window has closed.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>window</code> - to withdraw</div></dd><dt><span class="label-return">Returns:</span></dt><dd>the calculated number of tokens</dd></dl></div></div></li><li><div class="item function"><span id="withdrawAll" class="anchor-marker"></span><h4 class="name">withdrawAll</h4><div class="body"><code class="signature">function <strong>withdrawAll</strong><span>() </span><span>public </span></code><hr/><div class="description"><p>Get the reward from all closed windows.</p></div></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="deploy_MCoinDistributionWrap.html">← MCoinDistributionWrap</a><a class="docs-next button" href="math_SafeMath.html">SafeMath →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/MonetaryCoin/" class="nav-home"><img src="/MonetaryCoin/img/symbol-monetarycoin.png" alt="MonetaryCoin" width="66" height="58"/></a><div><h5>Docs</h5><a href="#">API Reference</a><a href="https://blog.zeppelin.solutions/guides/home">Guides</a></div><div><h5>Community</h5><a href="https:/monetarycoin.org/" target="_blank">Chat on Slack</a></div><div><h5>More</h5><a href="https://monetarycoin.org">Blog</a><a href="https://github.com/Monetary-Foundation/MonetaryCoin">GitHub</a><a class="github-button" href="https://github.com/Monetary-Foundation/MonetaryCoin" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://monetarycoin.org" target="_blank" class="fbOpenSource"><img src="/MonetaryCoin/img/logo-monetarycoin.png" alt="MonetaryCoin" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Monetary foundation</section></footer></div></body></html>